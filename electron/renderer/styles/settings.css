/* ========== Settings Styles ========== */
/* Settings modal, form controls, keybind UI */

/* Settings Panel */
#settings-panel {
    display: none;
    position: absolute;
    inset: 0;
    background: var(--bg);
    border-radius: 16px;
    z-index: 200;
    flex-direction: column;
    overflow: hidden;
    -webkit-app-region: no-drag;
    pointer-events: auto;
}

#settings-panel.visible {
    display: flex;
}

/* Ensure all interactive elements in settings are clickable */
#settings-panel * {
    -webkit-app-region: no-drag;
}

/* ========== Settings Header ========== */
#settings-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    border-bottom: 1px solid var(--border);
    background: rgba(0, 0, 0, 0.3);
    -webkit-app-region: no-drag;
    pointer-events: auto;
}

#settings-header h2 {
    color: var(--text-strong);
    font-size: 18px;
    font-weight: 600;
    margin: 0;
}

.settings-close,
#settings-close-btn {
    background: none;
    border: none;
    color: var(--muted);
    font-size: 28px;
    line-height: 1;
    cursor: pointer;
    padding: 8px 16px;
    transition: color 0.2s, background 0.2s;
    -webkit-app-region: no-drag;
    pointer-events: auto !important;
    position: relative;
    z-index: 1000;
    border-radius: 4px;
}

.settings-close:hover,
#settings-close-btn:hover {
    color: var(--text-strong);
    background: rgba(255, 255, 255, 0.1);
}

/* ========== Settings Content ========== */
#settings-content {
    flex: 1;
    overflow-y: auto;
    padding: 16px 20px;
}

.settings-section {
    margin-bottom: 32px;
}

.theme-static-value {
    color: var(--text);
    font-size: 14px;
}

.settings-section h3 {
    color: var(--accent);
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0 0 12px 0;
}

.settings-group {
    background: var(--card-highlight);
    border-radius: 12px;
    padding: 4px;
}

/* ========== Radio Options ========== */
.radio-option {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s;
}

.radio-option:hover {
    background: var(--card-highlight);
}

.radio-option input[type="radio"] {
    width: 18px;
    height: 18px;
    margin-right: 12px;
    accent-color: var(--accent);
}

.radio-label {
    color: var(--text-strong);
    font-size: 14px;
    font-weight: 500;
    flex: 1;
}

.radio-desc {
    width: 100%;
    margin-left: 30px;
    margin-top: 4px;
    color: var(--muted);
    font-size: 12px;
}

/* ========== Setting Rows ========== */
.setting-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px;
    border-bottom: 1px solid var(--border);
}

.setting-row:last-child {
    border-bottom: none;
}

.setting-row label {
    color: var(--text);
    font-size: 14px;
}

.setting-row select {
    background: var(--bg-hover);
    border: 1px solid var(--border-strong);
    border-radius: 6px;
    color: var(--text-strong);
    padding: 8px 12px;
    font-size: 13px;
    cursor: pointer;
    min-width: 140px;
}

.setting-row select:focus {
    outline: none;
    border-color: var(--accent);
}

.setting-row select option {
    background: var(--bg-elevated);
    color: var(--text-strong);
}

.setting-row select optgroup {
    background: var(--bg-elevated);
    color: var(--muted);
    font-style: normal;
    font-size: 12px;
    font-weight: 600;
}

/* ========== Sliders ========== */
.slider-container {
    display: flex;
    align-items: center;
    gap: 12px;
}

.slider-container input[type="range"] {
    width: 100px;
    height: 4px;
    background: var(--border-strong);
    border-radius: 2px;
    appearance: none;
    cursor: pointer;
}

.slider-container input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    width: 16px;
    height: 16px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
}

.slider-container span {
    color: var(--muted);
    font-size: 12px;
    min-width: 40px;
    text-align: right;
}

/* ========== Keybind Inputs ========== */
.keybind-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px;
    border-bottom: 1px solid var(--border);
}

.keybind-row:last-child {
    border-bottom: none;
}

.keybind-label {
    color: var(--text);
    font-size: 14px;
}

.keybind-input {
    background: var(--bg-hover);
    border: 1px solid var(--border-strong);
    border-radius: 6px;
    color: var(--text-strong);
    padding: 8px 16px;
    font-size: 13px;
    font-family: var(--font-mono, 'SF Mono', 'Monaco', monospace);
    cursor: pointer;
    min-width: 120px;
    text-align: center;
    transition: all 0.2s;
}

.keybind-input:hover,
.keybind-input-style:hover {
    border-color: var(--accent);
}

/* Same visual as keybind-input but without key-recording behavior */
.keybind-input-style {
    background: var(--bg-hover);
    border: 1px solid var(--border-strong);
    border-radius: 6px;
    color: var(--text-strong);
    padding: 8px 16px;
    font-size: 13px;
    font-family: var(--font-mono, 'SF Mono', 'Monaco', monospace);
    cursor: pointer;
    min-width: 120px;
    text-align: center;
    transition: all 0.2s;
}

.keybind-input.recording {
    border-color: var(--danger);
    background: var(--danger-subtle);
    animation: keybind-pulse 0.8s ease-in-out infinite;
}

@keyframes keybind-pulse {
    0%, 100% { box-shadow: 0 0 0 0 var(--danger-glow); }
    50% { box-shadow: 0 0 0 6px transparent; }
}

.settings-hint {
    color: var(--muted);
    font-size: 11px;
    margin: 8px 0 0 12px;
    font-style: italic;
}

/* ========== Checkbox Options ========== */
.checkbox-option {
    display: flex;
    align-items: center;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s;
}

.checkbox-option:hover {
    background: var(--card-highlight);
}

.checkbox-option input[type="checkbox"] {
    width: 18px;
    height: 18px;
    margin-right: 12px;
    accent-color: var(--accent);
}

.checkbox-option span {
    color: var(--text);
    font-size: 14px;
}

/* ========== Settings Actions ========== */
.settings-actions {
    display: flex;
    gap: 12px;
    padding: 16px 0;
    border-top: 1px solid var(--border);
    margin-top: 16px;
}

.settings-btn {
    flex: 1;
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
}

.settings-btn.primary {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-hover) 100%);
    color: var(--accent-contrast, #fff);
}

.settings-btn.primary:hover {
    filter: brightness(1.1);
    transform: translateY(-1px);
}

.settings-btn.secondary {
    background: var(--bg-hover);
    color: var(--text);
    border: 1px solid var(--border-strong);
}

.settings-btn.secondary:hover {
    background: var(--bg-hover);
}

/* ========== Full-Page Settings (inside page-settings) ========== */
#settings-page-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

#settings-page-header {
    display: flex;
    align-items: center;
    padding: 16px 24px;
    border-bottom: 1px solid var(--border);
    background: var(--bg-accent);
}

#settings-page-header h2 {
    color: var(--text-strong);
    font-size: 18px;
    font-weight: 600;
    margin: 0;
}

#settings-page-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px 24px;
}

/* Ensure settings sections look good in full-page mode */
#page-settings .settings-section {
    max-width: 600px;
}

#page-settings .settings-actions {
    max-width: 600px;
}

/* ========== Settings Tabs ========== */
.settings-tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid var(--border);
    padding: 0 24px;
    background: var(--bg-accent);
    flex-shrink: 0;
}

.settings-tab {
    padding: 10px 20px;
    border: none;
    border-bottom: 2px solid transparent;
    background: none;
    color: var(--muted);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-out);
    white-space: nowrap;
}

.settings-tab:hover {
    color: var(--text);
}

.settings-tab.active {
    color: var(--text-strong);
    border-bottom-color: var(--accent);
    font-weight: 600;
}

/* Tab content visibility */
.settings-tab-content {
    display: none;
}

.settings-tab-content.active {
    display: block;
}

/* ========== Settings Icon Cards ========== */
.settings-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
    gap: 10px;
    margin-bottom: 24px;
    padding: 0;
}

.settings-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 14px 8px;
    background: var(--card-highlight);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}

.settings-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--border-strong);
    background: var(--card-highlight);
}

.settings-card.active {
    border-color: var(--accent);
    background: var(--accent-subtle);
}

.settings-card svg {
    width: 28px;
    height: 28px;
    color: var(--muted);
    transition: color 0.2s ease;
}

.settings-card:hover svg {
    color: var(--accent);
}

.settings-card span {
    font-size: 11px;
    color: var(--text);
    font-weight: 500;
    line-height: 1.2;
}

/* ========== Toggle Switches ========== */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 44px;
    height: 24px;
    flex-shrink: 0;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    inset: 0;
    background: var(--border-strong);
    border-radius: 24px;
    transition: background 0.3s ease;
}

.toggle-slider::before {
    content: '';
    position: absolute;
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background: var(--text-strong);
    border-radius: 50%;
    transition: transform 0.3s ease;
}

.toggle-switch input:checked + .toggle-slider {
    background: var(--accent);
}

.toggle-switch input:checked + .toggle-slider::before {
    transform: translateX(20px);
}

/* Toggle in a setting row — align right */
.setting-row .toggle-switch {
    margin-left: auto;
}

/* Checkbox-option with toggle switch */
.checkbox-option .toggle-switch {
    margin-left: auto;
}

/* ========== Field Descriptions ========== */
.setting-desc {
    font-size: 11px;
    color: var(--muted);
    margin-top: 2px;
    line-height: 1.3;
}

/* ========== AI Provider Detection Status ========== */
.detection-status {
    padding: 12px;
    margin: 8px 0;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border-left: 3px solid var(--border);
}

.detection-status.scanning {
    border-left-color: var(--warn);
}

.detection-status.scanning .detection-label::before {
    content: "⏳ ";
}

.detection-status .detection-label {
    color: var(--muted);
    font-size: 12px;
}

.detection-status .provider-list {
    margin-top: 8px;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.detection-status .provider-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--text);
}

.detection-status .provider-item .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--muted);
}

.detection-status .provider-item .status-dot.online {
    background: var(--ok);
    box-shadow: 0 0 6px var(--ok-glow);
}

.detection-status .provider-item .status-dot.offline {
    background: var(--muted);
}

.detection-status .provider-item .model-name {
    color: var(--muted);
    font-size: 11px;
    margin-left: auto;
}

/* Text input for endpoint/API key */
.setting-row input[type="text"],
.setting-row input[type="password"] {
    background: var(--bg-hover);
    border: 1px solid var(--border-strong);
    border-radius: 6px;
    color: var(--text-strong);
    padding: 8px 12px;
    font-size: 13px;
    min-width: 200px;
}

.setting-row input[type="text"]:focus,
.setting-row input[type="password"]:focus {
    outline: none;
    border-color: var(--accent);
}

.setting-row input[type="text"]::placeholder,
.setting-row input[type="password"]::placeholder {
    color: var(--muted);
}

/* Input with side buttons (e.g., file picker) */
.input-with-buttons {
    display: flex;
    align-items: center;
    gap: 6px;
}

.input-with-buttons input[type="text"] {
    flex: 1;
    min-width: 140px;
}

.btn-small {
    padding: 6px 12px;
    background: var(--bg-hover);
    border: 1px solid var(--border-strong);
    border-radius: 6px;
    color: var(--text);
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
}

.btn-small:hover {
    background: var(--bg-hover);
    border-color: var(--accent);
    color: var(--text-strong);
}

.btn-small.btn-subtle {
    background: transparent;
    border-color: var(--border);
    color: var(--muted);
}

.btn-small.btn-subtle:hover {
    background: var(--danger-subtle);
    border-color: var(--danger-subtle);
    color: var(--danger);
}

/* Vertical setting row (for textareas) */
.setting-row.setting-row-vertical {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
}

.setting-row.setting-row-vertical label {
    display: flex;
    align-items: center;
    gap: 8px;
}

.setting-row .label-hint {
    color: var(--muted);
    font-size: 12px;
    font-weight: normal;
}

.setting-row textarea {
    background: var(--bg-hover);
    border: 1px solid var(--border-strong);
    border-radius: 6px;
    color: var(--text-strong);
    padding: 10px 12px;
    font-size: 13px;
    font-family: inherit;
    resize: vertical;
    min-height: 60px;
    max-height: 200px;
}

.setting-row textarea:focus {
    outline: none;
    border-color: var(--accent);
}

.setting-row textarea::placeholder {
    color: var(--muted);
}

/* Scan button in AI Provider section */
#ai-scan-btn {
    margin: 12px;
    flex: none;
    width: auto;
    padding: 8px 16px;
}

/* ========== Custom Provider Selector ========== */
.provider-selector {
    position: relative;
    min-width: 220px;
}

.provider-selector-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    padding: 10px 14px;
    background: var(--bg-hover);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text-strong);
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.provider-selector-btn:hover {
    background: var(--bg-hover);
    border-color: var(--border-strong);
}

.provider-selector-btn:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

.provider-selector-btn .provider-name {
    flex: 1;
    text-align: left;
}

.provider-selector-btn .dropdown-arrow {
    width: 16px;
    height: 16px;
    opacity: 0.6;
    transition: transform 0.2s ease;
}

.provider-selector.open .dropdown-arrow {
    transform: rotate(180deg);
}

/* Dropdown menu */
.provider-dropdown {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    right: 0;
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 10px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    z-index: 1000;
    max-height: 360px;
    overflow-y: auto;
    display: none;
}

.provider-selector.open .provider-dropdown {
    display: block;
    animation: dropdownFadeIn 0.15s ease;
}

@keyframes dropdownFadeIn {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.provider-group {
    padding: 6px 0;
}

.provider-group:not(:last-child) {
    border-bottom: 1px solid var(--border);
}

.provider-group-label {
    padding: 8px 14px 6px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--muted);
}

.provider-option {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    cursor: pointer;
    color: var(--text);
    font-size: 14px;
    transition: background 0.15s ease;
}

.provider-option:hover {
    background: var(--accent-subtle);
}

.provider-option.selected {
    background: var(--accent-glow);
}

/* ========== Provider Icons ========== */
.provider-icon {
    width: 22px;
    height: 22px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    overflow: hidden;
}

/* Shared icon setup — each provider sets background + ::before image */
.provider-icon::before {
    content: "";
    display: block;
    width: 65%;
    height: 65%;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.provider-icon-claude {
    background: url(../../assets/icons/providers/claude.webp) center/cover no-repeat;
    border-radius: 4px;
}
.provider-icon-claude::before {
    display: none;
}

.provider-icon-openai {
    background: linear-gradient(135deg, #10a37f, #0d8c6d);
}
.provider-icon-openai::before {
    background-image: url(../../assets/icons/providers/openai.svg);
}

.provider-icon-gemini {
    background: linear-gradient(135deg, #4285f4, #ea4335, #fbbc04, #34a853);
    background-size: 200% 200%;
}
.provider-icon-gemini::before {
    background-image: url(../../assets/icons/providers/gemini.svg);
}

.provider-icon-ollama {
    background: linear-gradient(135deg, #f0f0f0, #d0d0d0);
}
.provider-icon-ollama::before {
    background-image: url(../../assets/icons/providers/ollama.svg);
}

.provider-icon-lmstudio {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
}
.provider-icon-lmstudio::before {
    background-image: url(../../assets/icons/providers/lmstudio.svg);
}

.provider-icon-jan {
    background: linear-gradient(135deg, #a855f7, #7c3aed);
}
.provider-icon-jan::before {
    background-image: url(../../assets/icons/providers/jan.svg);
}

.provider-icon-grok {
    background: linear-gradient(135deg, #1a1a1a, #333);
}
.provider-icon-grok::before {
    background-image: url(../../assets/icons/providers/grok.svg);
}

.provider-icon-groq {
    background: linear-gradient(135deg, #f97316, #ea580c);
}
.provider-icon-groq::before {
    background-image: url(../../assets/icons/providers/groq.svg);
}

.provider-icon-mistral {
    background: linear-gradient(135deg, #ff6b35, #f7931e);
}
.provider-icon-mistral::before {
    background-image: url(../../assets/icons/providers/mistral.svg);
}

.provider-icon-openrouter {
    background: linear-gradient(135deg, #6366f1, #4f46e5);
}
.provider-icon-openrouter::before {
    background-image: url(../../assets/icons/providers/openrouter.svg);
}

.provider-icon-deepseek {
    background: linear-gradient(135deg, #0ea5e9, #0284c7);
}
.provider-icon-deepseek::before {
    background-image: url(../../assets/icons/providers/deepseek.svg);
}

.provider-icon-kimi {
    background: linear-gradient(135deg, #0071e3, #005bb5);
}
.provider-icon-kimi::before {
    background-image: url(../../assets/icons/providers/kimi.svg);
}

.provider-icon-opencode {
    background: linear-gradient(135deg, #1a1717, #131010);
}
.provider-icon-opencode::before {
    background-image: url(../../assets/icons/providers/opencode.svg);
}

/* ========== Provider Badge (inline pill next to name) ========== */
.provider-badge {
    display: inline-block;
    padding: 1px 7px;
    margin-left: auto;
    font-size: 9px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    border-radius: 8px;
    background: var(--accent-subtle);
    color: var(--accent);
    white-space: nowrap;
}

/* ========== Group Badge (in group header) ========== */
.group-badge {
    display: inline-block;
    padding: 1px 6px;
    margin-left: 6px;
    font-size: 9px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    border-radius: 6px;
    vertical-align: middle;
}

.group-badge.cli-badge {
    background: var(--warn-subtle);
    color: var(--warn);
}

/* ========== CLI Warning Info Box ========== */
.settings-info-box {
    padding: 10px 14px;
    margin: 8px 12px;
    border-radius: 8px;
    font-size: 12px;
    line-height: 1.5;
}

.settings-info-box.cli-warning {
    background: var(--warn-subtle);
    border-left: 3px solid var(--warn);
    color: var(--text);
}

/* ============================================
   Tool Profiles
   ============================================ */

/* Profile selector (reuses provider-selector pattern) */
.profile-selector {
    position: relative;
}

.profile-selector-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 14px;
    background: var(--bg-hover);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text);
    font-size: 14px;
    cursor: pointer;
    min-width: 180px;
    transition: all 0.15s ease;
}

.profile-selector-btn:hover {
    background: var(--bg-hover);
    border-color: var(--accent);
}

.profile-arrow {
    margin-left: auto;
    opacity: 0.5;
    font-size: 12px;
}

.profile-dropdown {
    display: none;
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    right: 0;
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 6px;
    z-index: 1000;
    max-height: 320px;
    overflow-y: auto;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    animation: dropdownFadeIn 0.15s ease;
}

.profile-selector.open .profile-dropdown {
    display: block;
}

.profile-group-label {
    padding: 8px 10px 4px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--muted);
}

.profile-option {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.15s ease;
}

.profile-option:hover {
    background: var(--accent-subtle);
}

.profile-option.selected {
    background: var(--accent-glow);
}

.profile-option-name {
    color: var(--text);
    font-size: 13px;
    font-weight: 500;
}

.profile-option-desc {
    color: var(--muted);
    font-size: 11px;
}

.profile-option .delete-custom-profile {
    display: none;
    padding: 2px 6px;
    background: var(--danger-subtle);
    border: none;
    border-radius: 4px;
    color: var(--danger);
    font-size: 10px;
    cursor: pointer;
}

.profile-option:hover .delete-custom-profile {
    display: inline-block;
}

/* Tool group checklist */
.tool-group-list {
    display: flex;
    flex-direction: column;
    padding: 4px 0;
}

.tool-group-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-bottom: 1px solid var(--border);
    cursor: pointer;
    transition: background 0.15s ease;
}

.tool-group-item:last-child {
    border-bottom: none;
}

.tool-group-item:hover {
    background: var(--bg-hover);
}

.tool-group-item input[type="checkbox"] {
    accent-color: var(--accent);
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

.tool-group-item input[type="checkbox"]:disabled {
    opacity: 0.5;
}

.tool-group-name {
    color: var(--text);
    font-size: 13px;
    font-weight: 500;
    min-width: 100px;
}

.tool-group-count {
    color: var(--muted);
    font-weight: 400;
}

.tool-group-desc {
    color: var(--muted);
    font-size: 12px;
    flex: 1;
}

.tool-group-badge {
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    background: var(--accent-subtle);
    color: var(--accent);
    font-weight: 500;
    white-space: nowrap;
}

/* Footer with tool count and actions */
.tool-profile-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 12px;
    border-top: 1px solid var(--border);
}

.tool-count {
    font-size: 12px;
    color: var(--muted);
}

.tool-profile-actions {
    display: flex;
    gap: 8px;
}

.settings-btn.small {
    padding: 5px 12px;
    font-size: 11px;
    border-radius: 6px;
}

.settings-btn.danger {
    background: var(--danger-subtle);
    color: var(--danger);
    border: 1px solid var(--danger);
}

.settings-btn.danger:hover {
    background: var(--danger-subtle);
}

/* Terminal profile badge */
.terminal-profile-badge {
    display: inline-block;
    padding: 2px 10px;
    margin-left: 8px;
    font-size: 11px;
    font-weight: 500;
    background: var(--accent-subtle);
    color: var(--accent);
    border: 1px solid var(--accent-glow);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.15s ease;
    white-space: nowrap;
}

.terminal-profile-badge:hover {
    background: var(--accent-glow);
    border-color: var(--accent);
}

.terminal-profile-badge:empty {
    display: none;
}

/* Keyboard Shortcuts */
.shortcut-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.shortcut-row {
    display: flex;
    align-items: center;
    gap: 12px;
}

.shortcut-row kbd {
    background: var(--bg-hover);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 3px 8px;
    font-family: var(--font-mono, 'Cascadia Code', 'Fira Code', monospace);
    font-size: 12px;
    color: var(--text);
    min-width: 120px;
    text-align: center;
}

.shortcut-row span {
    color: var(--muted);
    font-size: 13px;
}

/* Input validation error */
.input-error {
    border-color: var(--danger) !important;
    box-shadow: 0 0 0 2px var(--danger-subtle);
}

/* Disclaimer Modal */
.disclaimer-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.92);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10001;
    -webkit-app-region: no-drag;
}

.disclaimer-modal {
    background: var(--bg-elevated);
    border: 1px solid var(--border-strong);
    border-radius: 16px;
    padding: 2.5rem 2rem 2rem;
    text-align: center;
    max-width: 480px;
    width: 90%;
    animation: scale-in var(--duration-slow, 350ms) var(--ease-out, ease-out);
}

.disclaimer-icon {
    margin-bottom: 1rem;
}

.disclaimer-modal h2 {
    margin: 0 0 0.25rem;
    color: var(--text-strong);
    font-size: 1.5rem;
}

.disclaimer-subtitle {
    color: var(--muted);
    margin: 0 0 1.25rem;
    font-size: 0.9rem;
}

.disclaimer-warning {
    background: var(--warn-subtle);
    border: 1px solid var(--warn);
    border-radius: 8px;
    padding: 1rem;
    margin: 0 0 1rem;
    text-align: left;
    color: var(--text);
    font-size: 0.9rem;
    line-height: 1.5;
}

.disclaimer-warning strong {
    color: var(--warn);
}

.disclaimer-detail {
    color: var(--muted);
    font-size: 0.8rem;
    line-height: 1.5;
    margin: 0 0 1.25rem;
    text-align: left;
}

.disclaimer-links {
    margin-bottom: 1.5rem;
}

.disclaimer-links a {
    color: var(--accent);
    text-decoration: none;
    font-size: 0.85rem;
}

.disclaimer-links a:hover {
    text-decoration: underline;
}

.disclaimer-sep {
    color: var(--muted);
    margin: 0 0.5rem;
}

.disclaimer-buttons {
    display: flex;
    gap: 0.75rem;
}

.disclaimer-buttons .btn-decline {
    flex: 1;
    padding: 0.7rem;
    border-radius: 8px;
    border: 1px solid var(--border-strong);
    background: transparent;
    color: var(--muted);
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 200ms;
}

.disclaimer-buttons .btn-decline:hover {
    background: var(--danger-subtle);
    border-color: var(--danger);
    color: var(--danger);
}

.disclaimer-buttons .btn-accept {
    flex: 2;
    padding: 0.7rem;
    border-radius: 8px;
    border: none;
    background: var(--accent);
    color: var(--accent-contrast, #fff);
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 200ms;
}

.disclaimer-buttons .btn-accept:hover {
    background: var(--accent-hover);
}

/* Name Required Modal */
.name-required-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

.name-required-modal {
    background: var(--bg-elevated);
    border: 1px solid var(--border-strong);
    border-radius: 12px;
    padding: 2rem;
    text-align: center;
    max-width: 360px;
    width: 90%;
}

.name-required-modal h2 {
    margin: 0 0 0.5rem;
    color: var(--text-strong);
}

.name-required-modal p {
    color: var(--muted);
    margin: 0 0 1rem;
}

.name-required-modal input {
    width: 100%;
    padding: 0.6rem;
    border-radius: 6px;
    border: 1px solid var(--border-strong);
    background: var(--bg);
    color: var(--text-strong);
    font-size: 1rem;
    margin-bottom: 1rem;
    box-sizing: border-box;
}

.name-required-modal .btn-primary {
    width: 100%;
    padding: 0.6rem;
    border-radius: 6px;
    border: none;
    background: var(--accent);
    color: var(--accent-contrast, #fff);
    font-size: 1rem;
    cursor: pointer;
}

.name-required-modal .btn-primary:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* ========== Appearance Tab ========== */

.theme-preset-grid {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 16px;
}

.theme-preset-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: var(--bg);
    border: 2px solid var(--border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
    min-width: 80px;
}

.theme-preset-card:hover {
    border-color: var(--border-strong);
    background: var(--bg-hover);
}

.theme-preset-card.active {
    border-color: var(--accent);
    box-shadow: 0 0 0 1px var(--accent-glow);
}

.theme-preset-card .preset-swatches {
    display: flex;
    gap: 4px;
}

.theme-preset-card .preset-swatch {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.theme-preset-card .preset-name {
    font-size: 11px;
    color: var(--muted);
}

.theme-preset-card.active .preset-name {
    color: var(--accent);
}

.theme-preset-card .preset-badge {
    font-size: 9px;
    color: var(--warn);
    display: none;
}

.theme-preset-card.customized .preset-badge {
    display: block;
}

.theme-preset-card .preset-delete {
    position: absolute;
    top: 4px;
    right: 4px;
    background: none;
    border: none;
    color: var(--muted);
    font-size: 14px;
    line-height: 1;
    padding: 0 3px;
    cursor: pointer;
    display: none;
    -webkit-app-region: no-drag;
    z-index: 10001;
}

.theme-preset-card:hover .preset-delete {
    display: block;
}

.theme-preset-card .preset-delete:hover {
    color: var(--danger);
}

.theme-actions {
    display: flex;
    gap: 8px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
}

.theme-actions .btn-secondary {
    padding: 6px 14px;
    background: var(--bg);
    border: 1px solid var(--border-strong);
    border-radius: var(--radius-sm);
    color: var(--text);
    font-size: 12px;
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
}

.theme-actions .btn-secondary:hover {
    background: var(--bg-hover);
    border-color: var(--accent);
    color: var(--text-strong);
}

/* Color picker grid */
.color-picker-grid {
    display: grid;
    gap: 2px;
    margin-top: 12px;
}

.color-group-label {
    font-size: 11px;
    font-weight: 600;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-top: 12px;
    margin-bottom: 4px;
}

.color-group-label:first-child {
    margin-top: 0;
}

.color-picker-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 6px 0;
}

.color-picker-row label {
    font-size: 13px;
    color: var(--text);
}

.color-picker-control {
    display: flex;
    align-items: center;
    gap: 8px;
}

.color-picker-control input[type="color"] {
    -webkit-appearance: none;
    width: 32px;
    height: 32px;
    border: 2px solid var(--border-strong);
    border-radius: var(--radius-sm);
    padding: 2px;
    cursor: pointer;
    background: transparent;
}

.color-picker-control input[type="color"]::-webkit-color-swatch-wrapper {
    padding: 0;
}

.color-picker-control input[type="color"]::-webkit-color-swatch {
    border: none;
    border-radius: 3px;
}

.color-picker-control input[type="color"]:hover {
    border-color: var(--accent);
}

.color-hex {
    font-size: 11px;
    font-family: var(--font-mono, monospace);
    color: var(--muted);
    min-width: 60px;
}

/* Orb preview */
.orb-preview-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 20px;
    margin-bottom: 12px;
    background: var(--bg);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
}

.orb-preview-area canvas {
    image-rendering: pixelated;
    border-radius: 50%;
}

.orb-preview-state {
    font-size: 11px;
    color: var(--muted);
    text-transform: capitalize;
}

/* ========== Custom Font Upload ========== */
.font-upload-row { display: flex; gap: 8px; padding: 12px; border-top: 1px solid var(--border); }
.font-upload-row .btn-secondary { padding: 6px 14px; background: var(--bg); border: 1px solid var(--border-strong); border-radius: var(--radius-sm); color: var(--text); font-size: 12px; cursor: pointer; transition: all var(--duration-fast) var(--ease-out); }
.font-upload-row .btn-secondary:hover { background: var(--bg-hover); border-color: var(--accent); color: var(--text-strong); }
.custom-fonts-list { padding: 0 12px 12px; }
.custom-font-item { display: flex; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border); gap: 8px; }
.custom-font-item:last-child { border-bottom: none; }
.custom-font-name { flex: 1; color: var(--text); font-size: 13px; }
.custom-font-type { font-size: 10px; color: var(--muted); background: var(--bg); padding: 2px 6px; border-radius: 4px; text-transform: uppercase; }
.custom-font-remove { background: none; border: none; color: var(--muted); cursor: pointer; font-size: 14px; padding: 2px 6px; border-radius: 4px; transition: color 0.2s, background 0.2s; }
.custom-font-remove:hover { color: var(--danger); background: var(--danger-subtle); }

/* ========== Message Card Preview ========== */
.msg-preview-area {
    padding: 16px;
    background: var(--bg);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    margin-bottom: 12px;
    overflow: hidden;
}
.msg-preview-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-width: 400px;
    margin: 0 auto;
}

/* ========== Danger Button (Uninstall) ========== */
.btn-danger {
    background: var(--danger-subtle);
    border: 1px solid var(--danger);
    border-radius: 6px;
    color: var(--danger);
    padding: 8px 20px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-danger:hover {
    background: var(--danger-subtle);
    border-color: var(--danger);
}

/* ========== Reduced Motion ========== */
@media (prefers-reduced-motion: reduce) {
    .keybind-input.recording {
        animation: none;
    }

    .toggle-slider,
    .toggle-slider::before {
        transition: none;
    }

    .radio-option,
    .checkbox-option,
    .settings-btn,
    .settings-card,
    .keybind-input,
    .keybind-input-style,
    .setting-row select,
    .provider-selector-btn,
    .provider-selector-btn .dropdown-arrow,
    .disclaimer-modal,
    .profile-dropdown,
    .provider-selector.open .provider-dropdown {
        transition: none;
        animation: none;
    }
}
